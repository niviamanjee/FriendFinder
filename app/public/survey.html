<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>FriendFinder Survey</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>

<body>
    <div class="container">
        <div class="row">
            <h1>Survey Questions</h1>
        </div>
        <div class="row">
            <p>For each of the questions below, pick a number from one to five based on how strongly you agree or
                disargree with the question. One means "strongly disagree" while five means "strongly agree".</p>
        </div>
        <div class="row">
            <form>
                <div class="form-group">
                    <label>Name (required)</label>
                    <input class="form-control" id="userName">

                </div>
                <div class="form-group">
                    <label>Picture Link (required)</label>
                    <input class="form-control" id="imageLink">
                </div>

            </form>

        </div>
        <div class="row" id="questions">
            <div id="question-1">
                <h2>Question 1</h2>
                <h4> You tend to find more comfort in planning rather than spontaneity.</h4>
                <select class="form-control answer">
                    <option></option>
                    <option>1 (strongly disagree)</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5 (strongly agree)</option>
                </select>
            </div>
        </div>
        <div class="row" id="questions">
            <div id="question-2">
                <h2>Question 2</h2>
                <h4> You think a lot about the past rather than the future.</h4>
                <select class="form-control answer">
                    <option></option>
                    <option>1 (strongly disagree)</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5 (strongly agree)</option>
                </select>
            </div>
        </div>
        <div class="row" id="questions">
            <div id="question-3">
                <h2>Question 3</h2>
                <h4> You believe there is something as fate or luck that has a role in the events of your life.</h4>
                <select class="form-control answer">
                    <option></option>
                    <option>1 (strongly disagree)</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5 (strongly agree)</option>
                </select>
            </div>
        </div>
        <div class="row" id="questions">
            <div id="question-4">
                <h2>Question 4</h2>
                <h4> If there is something bothering you, you tend to confront the problem or person you believe to be
                    responsible.</h4>
                <select class="form-control answer">
                    <option></option>
                    <option>1 (strongly disagree)</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5 (strongly agree)</option>
                </select>
            </div>
        </div>
        <div class="row" id="questions">
            <div id="question-5">
                <h2>Question 5</h2>
                <h4> You believe in soulmates.</h4>
                <select class="form-control answer">
                    <option></option>
                    <option>1 (strongly disagree)</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5 (strongly agree)</option>
                </select>
            </div>
        </div>
        <div class="row" id="questions">
            <div id="question-6">
                <h2>Question 6</h2>
                <h4> When among people you tend to listen and observe rather than speak to others.</h4>
                <select class="form-control answer">
                    <option></option>
                    <option>1 (strongly disagree)</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5 (strongly agree)</option>
                </select>
            </div>
        </div>
        <div class="row" id="questions">
            <div id="question-7">
                <h2>Question 7</h2>
                <h4> You believe money and wealth is the main indicator of success.</h4>
                <select class="form-control answer">
                    <option></option>
                    <option>1 (strongly disagree)</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5 (strongly agree)</option>
                </select>
            </div>
        </div>
        <div class="row" id="questions">
            <div id="question-8">
                <h2>Question 8</h2>
                <h4> You consider yourself to be more "street smart" rather than "book smart".</h4>
                <select class="form-control answer">
                    <option></option>
                    <option>1 (strongly disagree)</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5 (strongly agree)</option>
                </select>
            </div>
        </div>
        <div class="row" id="questions">
            <div id="question-9">
                <h2>Question 9</h2>
                <h4> You are a competitive person.</h4>
                <select class="form-control answer">
                    <option></option>
                    <option>1 (strongly disagree)</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5 (strongly agree)</option>
                </select>
            </div>
        </div>
        <div class="row" id="questions">
            <div id="question-10">
                <h2>Question 10</h2>
                <h4> You believe a person has complete control over their personality.</h4>
                <select class="form-control answer">
                    <option></option>
                    <option>1 (strongly disagree)</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5 (strongly agree)</option>
                </select>
            </div>
        </div>
        <button id="submitButton" type="submit" class="btn btn-primary">Submit</button>
    </div>

    <footer>

        <a href="/api/Friends" target="_blank">API Friends </a>


        <a class="nav-link" href="https://github.com/niviamanjee/FriendFinder" target="_blank">Github Repo</a>

    </footer>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <script type="text/javascript">

        //on-click function that saves values of survey responses in an object of userData 

        var usersArray = [];
        //this array will store users outside of the server
        //see if users exist in usersArray before pushing to friendsArray 
        $("#submitButton").on("click", function (event) {
            event.preventDefault();

            var newUser = {
                userName: $("#userName").val().trim(),
                imageLink: $("#imageLink").val().trim(),
                answers: []
            }

            $(".answer").each(function (data) {

                //pushes the users choices into the array
                newUser.answers.push($(this).val().trim());
            });

            usersArray.push(newUser);

            console.log(`UsersArray: ${usersArray}`)


            $.post("/api/friends", newUser)
            $.get("/api/friends", function (req, res) {
                console.log(`API get: ${req.body}`)
            })

        })





    </script>
</body>

</html>